{% extends "core/base.html" %}
{% load static %}
{% load wagtailimages_tags %}
{% load wagtailcore_tags %}
{% load pluralize from content_tags %}
{% load url_map %}

{% block content %}
    <section id="learn-root" class="learn__page learn__categories-page container">
        <section class="learn__categories-content container m-t-s">
        {% for child in page.get_children.specific.live %}
        <!-- <a href="{% pageurl child %}" title="{{ page.button_label }}" class="learn__category-link"> -->
            <article class="learn__category grid m-b-s">
                <div class="c-1-2-l">
                    <div class="learn__category-content ">
                        <h2 class="h-l text-blue-deep-80 learn__category-title p-b-0">{{ child.title }}</h2>
                        <div class="learn__category-details">{{ child.heading | richtext }}</div>
                        <a class="button button--secondary" href="{% pageurl child %}" title="{{ page.button_label }}">{{ page.button_label }}</a>
                        <!-- <div class="learn__category-progress"><span style="width: 25%"></span></div>
                        <p class="body-m-b m-t-xxs m-b-0">5 / 20 lessons complete</p> -->
                    </div>

                    <div class="learn__category-entities button--round-corner bg-aqua">
                        <span class="learn__category-topics">{{ child.count_topics }} topic{% pluralize child.count_topics %}, </span>
                        <span class="learn__category-lessons">{{ child.count_detail_pages }} lesson{% pluralize child.count_detail_pages %}</span>
                    </div>
                </div>
                {% image child.image width-600 class="learn__category-image" %}
            </article>
        <!-- </a> -->
        {% endfor %}
        </section>
    </section>
{% endblock %}
